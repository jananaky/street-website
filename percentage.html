<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Percentage Graph</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<form id="myForm">
  <input type="submit" value="Generate Graph">
</form>

<canvas id="myChart" width="400" height="200"></canvas>

<script>
  document.getElementById('myForm').addEventListener('submit', function(e) {
    e.preventDefault();
    fetch('https://script.google.com/macros/s/AKfycbwtNUJ8ZoEw3lVRwvL94I5gs7xoUSaXX4v7fnM-vJr0cx97cLy80OULXZugx8vDFylC/exec')
      .then(response => response.json())
      .then(data => {
        displayGraph(data);
      });
  });

  function displayGraph(data) {
    const labels = ['Janaky', 'Venkataraman', 'Arunachalam']; // Updated labels for the chart
    const percentages = [data.Janaky, data.Venkataraman, data.Arunachalam]; // Corrected percentages from the Google Apps Script

    // Get the canvas element where you want to render the chart
    const ctx = document.getElementById('myChart').getContext('2d');

    // Initialize the bar chart using Chart.js
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: 'Percentages',
          data: percentages,
          backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 206, 86, 0.2)'
          ],
          borderColor: [
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  }
</script>

</body>
</html>


